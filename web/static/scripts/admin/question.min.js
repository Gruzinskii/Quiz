$(document).ready(function(){function a(){return $(".question-name-input").val()?!!c||(e=!0,$(".errors").html(Translator.trans("errors.select_answer")),!1):($(".errors").html(Translator.trans("errors.question_name")),!1)}let c,d={},e=!1;$(".answer-name-input").keydown(f=>{if(13===f.keyCode){let g=$(".answer-name-input").val();g&&(d.hasOwnProperty(g.trim())?(e=!0,$(".errors").html(Translator.trans("errors.answer_duplicate"))):($(".answers").append("<li class='answer'>"+g+"<i class='fa fa-trash-o icon' aria-hidden='true'></i></li>"),d[g]=!1,$(".answer-name-input").css("display","none"),$(".answer-name-input").val(""),!d.length&&$(".answer-info").html(""),!0==e&&$(".errors").html()))}}),$(".add-answer").click(()=>{$(".answer-name-input").css("display","block")}),$(".submit-question").click(()=>{if(a()){let f=$(".question-name-input").val(),h=JSON.stringify({questionName:f,answers:d});$.ajax({url:"/app_dev.php/admin/api/create/question",data:h,dataType:"json",type:"POST"}).done(()=>{console.log("success")}).fail(i=>{$(".errors").html(i.responseText)})}}),$(".content").on("click",".answer",f=>{let g=f.target;$(g).toggleClass("selected"),$(c).toggleClass("selected"),c&&(d[$(c).html()]=!1),d[$(g).html()]=!0,c=g})});